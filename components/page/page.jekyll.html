{% if page.content_blocks.size > 0 %}
    <div class="c-page theme-{{ page.page_theme | slugify | default: 'dark' }}">

    {% assign block_count = 0 %}
    {% for block in page.content_blocks %}
        <div class="cms-editor-link 
                    component-wrapper
                    {% if block._alt %}
                    component-wrapper--alt
                    {% elsif block._branded %}
                    component-wrapper--branded
                    {% endif %}" 
             data-cms-editor-link-style="modal" 
             data-cms-editor-link="cloudcannon:#content_blocks[{{ block_count }}]">
            {% bookshop {{block._bookshop_name}} bind=block %}
        </div>
        {% assign block_count = block_count | plus: 1 %}
    {% endfor %}

    </div>
{% endif %}